# session-file-store

Session file store for [Express](http://expressjs.com/) and [Connect](https://github.com/senchalabs/connect).
Also you can use it with [Koa](http://koajs.com/)

[![NPM Version][npm-version-image]][npm-url]
[![NPM Downloads][npm-downloads-image]][npm-url]
[![Node.js Version][node-image]][node-url]
[![Build Status][travis-image]][travis-url]
[![Coverage Status][coveralls-image]][coveralls-url]

Session file store is a provision for storing session data in the session file

## Compatibility

* Supports Express `>= 4.x` and Connect `>= 1.4.0` through [express-session][express-session-url]
* Supports [Node.js][node-url] `>= 4`
* Indirectly supports Koa `>= 0.9.0` through [express-session][express-session-url]

## Getting Started

### Installation

    $ npm install session-file-store

### Running Tests

    $ npm install
    $ npm test

## Options

  - `path`               The directory where the session files will be stored. Defaults to `./sessions`
  - `ttl`                Session time to live in seconds. Defaults to `3600`
  - `retries`            The number of retries to get session data from a session file. Defaults to `5`
  - `factor`             The exponential factor to use for retry. Defaults to `1`
  - `minTimeout`         The number of milliseconds before starting the first retry. Defaults to `50`
  - `maxTimeout`         The maximum number of milliseconds between two retries. Defaults to `100`
  - `reapIntervalObject` [OUT] Contains intervalObject if reap was scheduled
  - `reapInterval`       Interval to clear expired sessions in seconds or -1 if do not need. Defaults to `1 hour`
  - `reapAsync`          use distinct worker process for removing stale sessions. Defaults to `false`
  - `reapSyncFallback`   reap stale sessions synchronously if can not do it asynchronously. Default to `false`
  - `logFn`              log messages. Defaults to `console.log`
  - `fallbackSessionFn`  returns fallback session object after all failed retries. No defaults
  - `secret`             if secret string is specified then enables encry